<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="charts-loader.html"><script>(function(){'use strict';function a(a){return google[0===a.indexOf('md-')?c.CHARTS:c.VIS]}var b='corechart',c={CHARTS:'charts',VIS:'visualization'},d={area:{ctor:'AreaChart'},bar:{ctor:'BarChart'},"md-bar":{ctor:'Bar',pkg:'bar'},bubble:{ctor:'BubbleChart'},calendar:{ctor:'Calendar',pkg:'calendar'},candlestick:{ctor:'CandlestickChart'},column:{ctor:'ColumnChart'},combo:{ctor:'ComboChart'},gauge:{ctor:'Gauge',pkg:'gauge'},geo:{ctor:'GeoChart'},histogram:{ctor:'Histogram'},line:{ctor:'LineChart'},"md-line":{ctor:'Line',pkg:'line'},org:{ctor:'OrgChart',pkg:'orgchart'},pie:{ctor:'PieChart'},sankey:{ctor:'Sankey',pkg:'sankey'},scatter:{ctor:'ScatterChart'},"md-scatter":{ctor:'Scatter',pkg:'scatter'},"stepped-area":{ctor:'SteppedAreaChart'},table:{ctor:'Table',pkg:'table'},timeline:{ctor:'Timeline',pkg:'timeline'},treemap:{ctor:'TreeMap',pkg:'treemap'},wordtree:{ctor:'WordTree',namespace:c.VIS,pkg:'wordtree'}},e={},f={},g={};Polymer({is:'google-chart-loader',properties:{packages:{type:Array,value:function(){return[]},observer:'_loadPackages'},type:{type:String,observer:'_loadPackageForType'}},get _corePackage(){return f[b]?f[b]:this._loadPackages([b]).then(function(a){return a[0]})},_loadPackagesDebounce:function(){this.debounce('loadPackages',function(){var a=Object.keys(e);a.length&&(e={},google.charts.load('current',{packages:a,language:document.documentElement.lang||'en'}),google.charts.setOnLoadCallback(function(){a.forEach(function(a){this.fire('loaded',a),g[a](google.visualization)}.bind(this))}.bind(this)))},100)},_loadPackages:function(a){var b=[];return a.forEach(function(a){f[a]||(e[a]=!0,f[a]=new Promise(function(b){g[a]=b}),this._loadPackagesDebounce()),b.push(f[a])}.bind(this)),Promise.all(b)},_loadPackageForType:function(c){var e=d[c];return e?this._loadPackages([e.pkg||b]).then(function(){var b=google[e.namespace]||a(c);return b[e.ctor]}):Promise.reject('This chart type is not yet supported: '+c)},create:function(a,b){return this._loadPackageForType(a).then(function(a){return new a(b)})},fireOnChartEvent:function(a,b,c){return this._corePackage.then(function(d){var e=c?d.events.addOneTimeListener:d.events.addListener;e(a,b,function(c){this.fire('google-chart-'+b,{chart:a,data:c})}.bind(this))}.bind(this))},dataTable:function(a){return this._corePackage.then(function(b){if(null==a)return new b.DataTable;return a.getNumberOfRows?a:a.cols?new b.DataTable(a):0<a.length?b.arrayToDataTable(a):0===a.length?Promise.reject('Data was empty.'):Promise.reject('Data format was not recognized.')})},dataView:function(a){return this._corePackage.then(function(b){return new b.DataView(a)})},query:function(a,b){return this._corePackage.then(function(c){return new c.Query(a,b)})}})})();</script></head><body></body></html>