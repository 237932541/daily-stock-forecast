<!DOCTYPE html><html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-flex-layout/iron-flex-layout.html"><link rel="import" href="../paper-more-button/paper-more-button.html"><link rel="import" href="../paper-styles/color.html"><link rel="import" href="paper-search-bar.html"><link rel="import" href="paper-filter-dialog.html"></head><body><dom-module id="paper-search-panel"><template><style>:host,.items{@apply --layout-vertical;}.search{border-bottom:1px solid #eee;}.noResults{padding:20px;}.more{padding:10px 0;text-align:center;}.filter-dialog{--paper-filter-dialog-background-color:#eee;--paper-filter-toolbar-background:var(--paper-grey-200);--paper-filter-dialog:{margin:0!important;};--paper-filter-toolbar:{color:var(--paper-grey-900);};}</style><paper-search-bar id="paperSearchBar" class="search" icon="[[icon]]" placeholder="[[placeholder]]" hide-filter-button="[[hideFilterButton]]" disable-filter-button="[[_disableFilterButton(filters)]]" query="{{search}}" nr-selected-filters="[[_getNrSelectedFilters(selectedFilters)]]" on-paper-search-search="_onSearch" on-paper-search-filter="_onFilter"></paper-search-bar><paper-filter-dialog id="filterDialog" class="filter-dialog" filters="[[filters]]" selected-filters="{{selectedFilters}}" reset-button="[[resetButton]]" save-button="[[saveButton]]" no-values-label="[[noValuesLabel]]"></paper-filter-dialog><template is="dom-if" if="{{_hasItems}}"><div class="items flex"><slot select=":not([fixed])"></slot></div></template><slot select="[fixed]"></slot><template is="dom-if" if="{{_showNoResults(_hasItems,loading)}}"><div class="noResults">[[noResultsText]]</div></template><template is="dom-if" if="{{hasMore}}"><div class="more"><paper-more-button has-more="[[hasMore]]" loading="[[loading]]" on-tap-more="_loadMore">[[moreButton]]</paper-more-button></div></template></template></dom-module><script>(function(){Polymer({is:'paper-search-panel',properties:{search:{type:String,observer:'_onChangeRequest',notify:!0},filters:Object,selectedFilters:{type:Object,observer:'_onChangeRequest',notify:!0,value:{}},items:Array,hasMore:{type:Boolean,value:!1},loading:{type:Boolean,value:!1},hideFilterButton:{type:Boolean,value:!1},count:{type:Number,notify:!0,value:20},icon:{type:String,value:'search'},placeholder:{type:String,value:'Search'},noResultsText:{type:String,value:'No matching results found.'},moreButton:{type:String,value:'More'},resetButton:String,saveButton:String,noValuesLabel:String,_hasItems:{type:Boolean,computed:'_computeHasItems(items)',value:!1}},getPaperSearchBarInstance:function(){return this.$.paperSearchBar},_loadMore:function(){this.count+=20,this._updateData()},_computeHasItems:function(a){return'undefined'!==typeof a&&0<a.length},_showNoResults:function(a,b){return!a&&!b},_onChangeRequest:function(a,b){'undefined'!==typeof b&&(this.count=20,this._updateData())},_updateData:function(){this.fire('change-request-params')},_onFilter:function(){this.$.filterDialog.open()},_onSearch:function(){this.fire('search')},_getNrSelectedFilters:function(a){if(0>=Object.keys(a).length)return 0;var b=Object.keys(a).map(function(b){return a[b].length}).reduce(function(a,b){return a+b});return b},_disableFilterButton:function(a){return!(a&&0<a.length)}})})();</script></body></html>